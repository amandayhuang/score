(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(11),i=n.n(o),r=(n(116),n(117),n(94)),l=n(13),s=n(56),d=n(71),j=n(72),u=n.n(j),h=n(87),b=n(96),p=n(18),x=n(193),O=n(191),m=n(190),f=n(198),_={B_1:{code:"B_1",title:"1 Bam",type:"Bam",icon:"1\ud83c\udf8b"},B_2:{code:"B_2",title:"2 Bam",type:"Bam",icon:"2\ud83c\udf8b"},B_3:{code:"B_3",title:"3 Bam",type:"Bam",icon:"3\ud83c\udf8b"},B_4:{code:"B_4",title:"4 Bam",type:"Bam",icon:"4\ud83c\udf8b"},B_5:{code:"B_5",title:"5 Bam",type:"Bam",icon:"5\ud83c\udf8b"},B_6:{code:"B_6",title:"6 Bam",type:"Bam",icon:"6\ud83c\udf8b"},B_7:{code:"B_7",title:"7 Bam",type:"Bam",icon:"7\ud83c\udf8b"},B_8:{code:"B_8",title:"8 Bam",type:"Bam",icon:"8\ud83c\udf8b"},B_9:{code:"B_9",title:"9 Bam",type:"Bam",icon:"9\ud83c\udf8b"},C_1:{code:"C_1",title:"1 Crack",type:"Crack",icon:"1 \u4e00"},C_2:{code:"C_2",title:"2 Crack",type:"Crack",icon:"2 \u4e8c"},C_3:{code:"C_3",title:"3 Crack",type:"Crack",icon:"3 \u4e09"},C_4:{code:"C_4",title:"4 Crack",type:"Crack",icon:"4 \u56db"},C_5:{code:"C_5",title:"5 Crack",type:"Crack",icon:"5 \u4e94"},C_6:{code:"C_6",title:"6 Crack",type:"Crack",icon:"6 \u516d"},C_7:{code:"C_7",title:"7 Crack",type:"Crack",icon:"7 \u4e03"},C_8:{code:"C_8",title:"8 Crack",type:"Crack",icon:"8 \u516b"},C_9:{code:"C_9",title:"9 Crack",type:"Crack",icon:"9 \u4e5d"},D_1:{code:"D_1",title:"1 Dot",type:"Dot",icon:"1 \u26ab"},D_2:{code:"D_2",title:"2 Dot",type:"Dot",icon:"2 \u26ab"},D_3:{code:"D_3",title:"3 Dot",type:"Dot",icon:"3 \u26ab"},D_4:{code:"D_4",title:"4 Dot",type:"Dot",icon:"4 \u26ab"},D_5:{code:"D_5",title:"5 Dot",type:"Dot",icon:"5 \u26ab"},D_6:{code:"D_6",title:"6 Dot",type:"Dot",icon:"6 \u26ab"},D_7:{code:"D_7",title:"7 Dot",type:"Dot",icon:"7 \u26ab"},D_8:{code:"D_8",title:"8 Dot",type:"Dot",icon:"8 \u26ab"},D_9:{code:"D_9",title:"9 Dot",type:"Dot",icon:"9 \u26ab"},N_G:{code:"N_G",title:"Green Dragon",type:"Dragon",icon:"\ud83d\udc32 \ud83d\udfe2"},N_R:{code:"N_R",title:"Red Dragon",type:"Dragon",icon:"\ud83d\udc32 \ud83d\udd34"},N_W:{code:"N_W",title:"White Dragon",type:"Dragon",icon:"\ud83d\udc32 \u26aa"},W_N:{code:"W_N",title:"North Wind",type:"Wind",icon:"N \ud83c\udf2c\ufe0f"},W_E:{code:"W_E",title:"East Wind",type:"Wind",icon:"E \ud83c\udf2c\ufe0f"},W_S:{code:"W_S",title:"South Wind",type:"Wind",icon:"S \ud83c\udf2c\ufe0f"},W_W:{code:"W_W",title:"West Wind",type:"Wind",icon:"W \ud83c\udf2c\ufe0f"},X_X:{code:"X_X",title:"Flower or Season",type:"Special",icon:"\ud83c\udf38 \ud83c\udf24"}},g=(n(119),n(192)),y=n(97),C=n(199),D=n(73),v=n.n(D),W=n(74),k=n.n(W),B=n(174),N=n(3),w=Object(B.a)((function(e){return{label:{paddingLeft:"4px !important",paddingRight:"4px !important"}}})),S=function(e){var t=e.idx,n=e.icon,a=e.sortedTiles,o=e.setMyTiles,i=e.hiddenText,r=e.chowText,l=e.removeHandler,s=e.hidden,d=e.chow,j=Object(c.useState)(null),u=Object(p.a)(j,2),h=u[0],b=u[1],x=w(),O=function(){return Object(N.jsxs)(N.Fragment,{children:[s&&Object(N.jsx)(v.a,{className:"eye"}),d&&Object(N.jsx)(k.a,{className:"eye"})]})};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(f.a,{label:n,onDelete:function(){return l(t)},color:"primary",onClick:function(e){return b(e.currentTarget)},classes:x,className:"".concat(x.label," chip"),icon:Object(N.jsx)(O,{})}),Object(N.jsxs)(y.a,{id:"simple-menu",anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:function(){return b(null)},children:[Object(N.jsxs)(C.a,{onClick:function(){return function(e){a[e].hidden=!a[e].hidden,o(a),b(null)}(t)},children:["".concat(i," as Concealed")," ",Object(N.jsx)(v.a,{className:"icon"})]}),Object(N.jsxs)(C.a,{onClick:function(){return function(e){a[e].chow=!a[e].chow,o(a),b(null)}(t)},children:["".concat(r," as Chow")," ",Object(N.jsx)(k.a,{className:"icon"})]})]})]})},T=n(180),M=n(195),E=n(202),X=n(93),P=n.n(X),F=n(5),H=function(e){var t=e.text,n=Object(c.useState)(!1),a=Object(p.a)(n,2),o=a[0],i=a[1],r=Object(F.a)((function(e){return{tooltip:{fontSize:12}}}))(E.a);return Object(N.jsx)(r,{title:t,open:o,onOpen:function(){return i(!0)},onClose:function(){return i(!1)},placement:"top-start",children:Object(N.jsx)(P.a,{size:3,className:"info",onClick:function(){return i(!o)}})})},R=function(e){var t=e.changeHandler,n=e.vals,c=e.name,a=e.label,o=e.infoText;return Object(N.jsxs)(x.a,{display:"flex",alignItems:"center",children:[Object(N.jsx)(T.a,{value:c,control:Object(N.jsx)(M.a,{color:"primary",inputProps:{name:c},checked:n[c]}),label:a,labelPlacement:"end",onChange:function(e){return t(e,c)}}),o&&Object(N.jsx)(x.a,{alignSelf:"end",pt:"7px",children:Object(N.jsx)(H,{text:o})})]})},I=n(181),A=n(201),K=n(194),z=function(e){var t=e.changeHandler,n=e.vals,c=e.name,a=e.label,o=e.options;return Object(N.jsx)(x.a,{width:"200px",mr:"15px",children:Object(N.jsxs)(I.a,{variant:"outlined",fullWidth:!0,children:[Object(N.jsx)(A.a,{htmlFor:"outlined-age-native-simple",children:a}),Object(N.jsxs)(K.a,{native:!0,value:n[c],label:a,inputProps:{name:c,className:"select"},onChange:function(e){return t(e,c)},children:[Object(N.jsx)("option",{"aria-label":"None",value:"",disabled:!0}),o.map((function(e){return Object(N.jsx)("option",{value:e[0],children:e[1]},e[0])}))]})]})})},G=n(197),J=n(182),U=n(183),L=n(184),q=n(185),Q=n(186),V=n(187),Y=n(188),Z=n(189),$=function(e){var t=e.open,n=e.setOpen,c=e.lineItems,a=e.total,o=function(){n(!1)};return Object(N.jsx)(x.a,{width:"100%",children:Object(N.jsxs)(G.a,{fullScreen:!0,onClose:o,open:t,children:[Object(N.jsx)(J.a,{children:"Score Detail"}),Object(N.jsx)(U.a,{dividers:!0,children:Object(N.jsxs)(L.a,{className:"table",children:[Object(N.jsx)(q.a,{children:Object(N.jsxs)(Q.a,{children:[Object(N.jsx)(V.a,{children:"Item"}),Object(N.jsx)(V.a,{children:"Points"})]})}),Object(N.jsxs)(Y.a,{children:[c.map((function(e){return Object(N.jsxs)(Q.a,{children:[Object(N.jsx)(V.a,{children:e[0]}),Object(N.jsx)(V.a,{children:e[1]})]},e[0])})),!c.length&&Object(N.jsxs)(Q.a,{children:[Object(N.jsx)(V.a,{children:Object(N.jsx)("em",{children:"no scoring items"})}),Object(N.jsx)(V.a,{})]}),Object(N.jsxs)(Q.a,{children:[Object(N.jsx)(V.a,{children:Object(N.jsx)("b",{children:"Total"})}),Object(N.jsx)(V.a,{children:Object(N.jsx)("b",{children:a})})]})]})]})}),Object(N.jsx)(Z.a,{children:Object(N.jsx)(m.a,{autoFocus:!0,onClick:o,color:"primary",children:"Close"})})]})})},ee=["N","W"],te=["1","9"],ne=[],ce=[],ae=0,oe=function(e,t,n,c,a,o,i){var r=le(e),l=Object(p.a)(r,2),s=l[0],d=(l[1],se(s,4)),j=se(s,3),u=se(s,2),h=ie(d,j,u,t,n);s.X_X&&(h+=4*s.X_X.num,ne.push(["Flower or Season (x"+s.X_X.num+")",4*s.X_X.num])),c&&(h+=20,ne.push(["Mahjong Winner",20]),a&&(h+=2,ne.push(["Drawn From Wall",2])),o&&(h+=2,ne.push(["One Shot",2])),i&&(h+=2,ne.push(["Fishing the Eyes",2])));var b=Math.pow(2,ae)*h,x=ne.concat(ce);return ae=0,ne=[],ce=[],[b,x]},ie=function(e,t,n,c,a){var o=0;return o+=re(e,8,16,c,a,"Kong"),o+=re(t,2,4,c,a,"Pong"),o+=re(n,2,null,c,a,"Pair")},re=function(e,t,n,c,a,o){var i=0;return e.forEach((function(e){var r=e.code,l=(r=e.split("_"))[0],s=r[1],d=r[2];null===n?("N"===l&&(i+=t,ne.push(["Pair of Dragons",t])),"W"===l&&s===c&&(i+=t,ne.push(["Pair of Round Wind",t])),"W"===l&&s===a&&(i+=t,ne.push(["Pair of My Wind",t]))):("N"===l&&(ae+=1,ce.push(["Doubled for Pong or Kong of Dragon",""])),"W"===l&&s===c&&(ae+=1,ce.push(["Doubled for Pong or Kong of Round Wind",""])),"W"===l&&s===a&&(ae+=1,ce.push(["Doubled for Pong or Kong of My Wind",""])),ee.includes(l)||te.includes(s)?"C"===d?(i+=2*n,ne.push(["".concat(o," of Terminal, Wind, or Dragon (Concealed)"),2*n])):(i+=n,ne.push(["".concat(o," of Terminal, Wind, or Dragon (Exposed)"),n])):"C"===d?(i+=2*t,ne.push(["".concat(o," of Simple 2-8 (Concealed)"),2*t])):(i+=t,ne.push(["".concat(o," of Simple 2-8 (Exposed)"),t])))})),i},le=function(e){var t={},n=[];return e.forEach((function(e){var c=e.code,a=e.hidden;!0===e.chow?(c="CHOW_"+c,n.push(c)):t[c]?(t[c].num+=1,!0===a&&(t[c].num_hidden+=1)):(t[c]={num:1},t[c].num_hidden=!0===a?1:0)})),[t,n]},se=function(e,t){var n=[];for(var c in e){var a=e[c].num,o=a===e[c].num_hidden?"C":"O";if(a===t&&"X_X"!==c){var i="".concat(c,"_").concat(o);n.push(i),delete e[i]}}return n},de=function(){var e=Object(c.useState)([]),t=Object(p.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(null),i=Object(p.a)(o,2),r=i[0],l=i[1],j=Object(c.useState)([]),y=Object(p.a)(j,2),C=y[0],D=y[1],v=Object(c.useState)(!1),W=Object(p.a)(v,2),k=W[0],B=W[1],w={roundWind:"",myWind:"",winner:!1,wall:!1,shot:!1,eyes:!1},T=[["N","North"],["E","East"],["S","South"],["W","West"]],M=Object(c.useState)(w),E=Object(p.a)(M,2),X=E[0],P=E[1],F=Object(c.useState)(!1),H=Object(p.a)(F,2),I=H[0],A=H[1],K=n.slice().sort((function(e,t){return e.code===t.code?e.dtAdded<t.dtAdded?-1:e.dtAdded>t.dtAdded?1:0:e.code<t.code?-1:1})),G=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,c,a,o,i,r,s,d,j,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),B(!0),n=X.roundWind,c=X.myWind,a=X.winner,o=X.wall,i=X.shot,r=X.eyes,s=oe(K,n,c,a,o,i,r),d=Object(p.a)(s,2),j=d[0],h=d[1],l(j),D(h),B(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){K.splice(e,1),a(K)},U=function(e,t){var n=void 0!==e.target.checked?e.target.checked:e.target.value,c=Object(d.a)(Object(d.a)({},X),{},Object(s.a)({},t,n));P(c)};return Object(N.jsx)("div",{className:"outer",children:Object(N.jsxs)("div",{className:"inner",children:[Object(N.jsx)("h1",{children:"Mahjong Score Calculator"}),Object(N.jsx)("p",{className:"section",children:"My Tiles"}),n.length>0&&Object(N.jsx)("p",{className:"sub",children:"Tap to mark as concealed or part of a chow."}),Object(N.jsx)(x.a,{children:Object(N.jsxs)("form",{onSubmit:function(e){return G(e)},children:[Object(N.jsx)(O.a,{container:!0,children:K.map((function(e,t){var n=e.hidden?"Unmark":"Mark",c=e.chow?"Unmark":"Mark";return Object(N.jsxs)(O.a,{item:!0,xs:4,children:[Object(N.jsx)(S,{idx:t,icon:_[e.code].icon,sortedTiles:K,setMyTiles:a,hiddenText:n,chowText:c,removeHandler:J,hidden:e.hidden,chow:e.chow}),Object(N.jsx)(x.a,{height:"20px"})]},t)}))}),Object(N.jsxs)(x.a,{display:"flex",children:[Object(N.jsx)(z,{changeHandler:U,vals:X,name:"roundWind",label:"Round Wind",options:T}),Object(N.jsx)(z,{changeHandler:U,vals:X,name:"myWind",label:"My Wind",options:T})]}),Object(N.jsxs)(x.a,{displaye:"flex",flexDirection:"column",children:[Object(N.jsx)(R,{changeHandler:U,vals:X,name:"winner",label:"Mahjong Winner"}),X.winner&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(R,{changeHandler:U,vals:X,name:"wall",label:"Drawn From Wall"}),Object(N.jsx)(R,{changeHandler:U,vals:X,name:"shot",label:"One Shot",infoText:"Tile needed for win completed chow in only possible place. Examples: the 5 in a 4-5-6 or the 3 in a 1-2-3"}),Object(N.jsx)(R,{changeHandler:U,vals:X,name:"eyes",label:"Fishing the Eyes",infoText:"Tile needed for win completed the pair."})]})]}),Object(N.jsxs)(x.a,{children:[Object(N.jsxs)(m.a,{type:"submit",variant:"outlined",className:"calc",children:["Calculate Score"," ",k&&Object(N.jsx)(g.a,{className:"loading",size:20})]}),Object(N.jsx)(m.a,{onClick:function(){a([]),l(null),P(w)},variant:"outlined",className:"calc",children:"Clear"})]}),(r||0===r)&&Object(N.jsxs)(x.a,{mt:"15px",display:"flex",className:"scoreBox",alignItems:"center",children:[Object(N.jsx)(x.a,{mt:0,mb:0,children:Object(N.jsx)("p",{className:"score",children:"Score: ".concat(r)})}),Object(N.jsx)(x.a,{ml:4,mb:0,children:Object(N.jsx)(m.a,{onClick:function(){return A(!0)},variant:"outlined",className:"detail",children:"Detail"})}),Object(N.jsx)($,{open:I,setOpen:A,lineItems:C,total:r})]})]})}),Object(N.jsx)("hr",{}),Object(N.jsx)("p",{className:"section",children:"Select Tiles"}),Object(N.jsx)(x.a,{children:Object(N.jsx)(O.a,{container:!0,children:Object.values(_).map((function(e){return Object(N.jsxs)(O.a,{item:!0,xs:4,children:[Object(N.jsx)(f.a,{onClick:function(){return function(e){var t=[].concat(Object(b.a)(K),[{code:e,hidden:!1,dtAdded:new Date,chow:!1}]);a(t)}(e.code)},label:e.icon,className:"chipSelect"}),Object(N.jsx)(x.a,{height:"20px"})]},e.icon)}))})}),Object(N.jsx)("hr",{}),Object(N.jsx)("p",{className:"section",children:"Scoring"}),Object(N.jsxs)("p",{className:"sub",children:["Based on"," ",Object(N.jsx)("a",{href:"http://mark.random-article.com/mahjongg/basic-scoring.html",target:"_blank",children:"Basic Mahjong Scoring"}),". Score doubled for pong or kong of any dragon, round wind, or own wind. More to come."]})]})})},je=function(){return Object(N.jsx)(r.a,{children:Object(N.jsx)(l.c,{children:Object(N.jsx)(l.a,{path:"/",exact:!0,component:de})})})};i.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(je,{})}),document.getElementById("root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.abffac28.chunk.js.map